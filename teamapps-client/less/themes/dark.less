/*-
 * ========================LICENSE_START=================================
 * TeamApps
 * ---
 * Copyright (C) 2014 - 2019 TeamApps.org
 * ---
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 * 
 *      http://www.apache.org/licenses/LICENSE-2.0
 * 
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =========================LICENSE_END==================================
 */
@dark-theme-text-color: #f3f3f3;
@dark-theme-placeholder-color: #f3f3f355;
@dark-theme-background-color: rgba(50, 50, 65, .93);
@dark-theme-background-color-transparent: rgba(80, 80, 90, 0.65);
@dark-theme-background-color-light: rgb(80, 80, 90);
@dark-theme-border-color: rgba(0, 0, 0, 0.15);
@dark-theme-field-border: rgb(95, 95, 95);
@dark-theme-field-background: rgba(95, 95, 95, .1);

.theme-dark {
  color: @dark-theme-text-color;

  html {
    scrollbar-face-color: #555555;
    scrollbar-base-color: #555555;
    scrollbar-3dlight-color: #555555;
    scrollbar-highlight-color: #555555;
    scrollbar-track-color: #000;
    scrollbar-arrow-color: #000;
    scrollbar-shadow-color: #555555;
    scrollbar-dark-shadow-color: #555555;
  }

  ::-webkit-scrollbar { width: 8px; height: 3px;}
  ::-webkit-scrollbar-button {  background-color: #555555; }
  ::-webkit-scrollbar-track {  background-color: #555555;}
  ::-webkit-scrollbar-track-piece { background-color: #000;}
  ::-webkit-scrollbar-thumb { height: 50px; background-color: #555; border-radius: 3px;}
  ::-webkit-scrollbar-corner { background-color: #555555;}
  ::-webkit-resizer { background-color: #555;}

  .UiToolbar {
    > .background-color-div {
      background-color: @dark-theme-background-color-transparent;
      border-bottom-color: @dark-theme-border-color;

      > .inner-container .button-group-wrapper > .toolbar-group-separator {
        border-right: 1px solid rgba(78, 78, 78, 0.5);
      }
    }
    .toolbar-button-wrapper:hover, .UiToolbar-size-testing-container .toolbar-button-wrapper:hover {
      background-color: @dark-theme-background-color-light;
    }
  }

  .UiToolAccordion {
    .toolbar-button-wrapper:hover {
      background-color: @dark-theme-background-color-light;
    }
  }

  .UiNavigationBar {
    background-color: @dark-theme-background-color-transparent;
    border-top: 1px solid @dark-theme-border-color;
    .buttons-wrapper {
      background-color: @dark-theme-background-color-transparent;
      > .nav-button-wrapper {
        &:hover {
          background-color: fadeout(@dark-theme-background-color-transparent, 5%);
        }
        &:active {
          background-color: @dark-theme-background-color-transparent;
        }
      }
    }

    .fan-out-container-wrapper {
      box-shadow: 0px -5px 20px -3px rgba(0, 0, 0, 0.3);
      .fan-out-container {
        background-color: @dark-theme-background-color-transparent;
      }
    }
  }


  .UiPanel {
    .panel-heading {
      border-bottom-color: @dark-theme-border-color;
      background-color: @dark-theme-background-color-transparent;

      .panel-heading-window-buttons {
        background-color: rgba(0, 0, 0, 0.12);
      }
      .panel-heading-window-buttons > .UiToolButton {
        filter: invert(100%);
      }

      .panel-component-wrapper > .icon-and-field-wrapper {
        background-color: rgba(255, 255, 255, 0.07);
      }
    }
    .panel-body {
      background-color: @dark-theme-background-color;
    }
  }

  .UiTabPanel {
    > .tab-panel-header > .background-color-div {
      background-color: @dark-theme-background-color-transparent;

      .tab-button .tab-button-close-button {
        filter: invert(100%);
      }
    }
    &.tab-style-blocks > .tab-panel-header .tab-button-container .tab-button.selected {
      background-color: rgba(0, 0, 0, 0.3);
    }
  }

  .UiItemView .item-group .item-group-header:after {
    bottom: 0;
    background: linear-gradient(to right, rgba(78, 78, 78, 0.5) 0%, rgba(78, 78, 78, 0.5) 50%, rgba(0, 0, 0, 0) 100%);
  }

  .UiInfiniteItemView > .slickgrid .item-wrapper > *:hover {
    border-color: @dark-theme-border-color;
    background: linear-gradient(to bottom, @dark-theme-background-color 0%, @dark-theme-background-color 62%, @dark-theme-background-color-light 100%);
  }

  .UiDropDown {
    border-color: rgba(146, 146, 146, 0.2); // TODO @dark-theme-border-color, chrome bug...

    .background-color-div {
      background-color: @dark-theme-background-color-transparent;
    }
  }

  .UiField {
    .field-border,
    .field-border-visibility {
      border-color: @dark-theme-field-border;
    }
    .field-background {
      background-color: @dark-theme-field-background;
    }

    &.readonly .field-background,
    &.editable-if-focused:not(.focus):not(:hover) .field-background {
      background: transparent;
    }

    &.readonly .field-border,
    &.readonly .field-border-visibility,
    &.editable-if-focused:not(.focus):not(:hover) .field-border,
    &.editable-if-focused:not(.focus):not(:hover) .field-border-visibility {
      border-color: transparent;
    }
  }

  .UiField,
  .form-control {
    color: @dark-theme-text-color;

    ::placeholder {
      color: @dark-theme-placeholder-color;
    }
  }

  .UiButton {
    &:hover,
    &:focus,
    &.focus {
      color: lighten(@dark-theme-text-color, 20%);
    }
  }

  .UiWorkSpaceLayout .minimized-tabpanel-bar {
    background-color: @dark-theme-background-color;

    .minimized-tabpanel-button {
      border: @dark-theme-border-color;
      background-color: @dark-theme-background-color-light;

      >.tab-icon:first-child {
        filter: invert(100%);
      }
    }
  }

  .UiTable {
    .slick-cell {
      border-bottom-color: @dark-theme-border-color;
    }
    .slick-cell.selected,
    .slick-table.list-mode .slick-cell.selected {
      background-color: rgba(102, 174, 255, 0.45);
    }
    &.striped-rows .slick-row.odd {
      background-color: rgba(255, 255, 255, .05);
    }
    .slick-headerrow {
      background-color: rgba(255, 255, 255, .05);
      border-bottom-color: @dark-theme-border-color;
    }
    .slick-footerrow {
      background-color: rgba(255, 255, 255, .05);
      border-color: @dark-theme-border-color;
    }
  }

  .UiChatInput {
    background-color: @dark-theme-field-background;
    border-top-color: @dark-theme-field-border;

    textarea {
      background-color: transparent;
    }
  }

  .glyphicon-button {
    color: fadeout(@dark-theme-text-color, 30%);
    &:hover {
      color: @dark-theme-text-color;
    }
    &.disabled {
      color: fadeout(@dark-theme-text-color, 70%);
    }
  }


  .UiMediaTrackGraph {
    .area {
      fill: rgb(96, 185, 255);
      fill-opacity:0.20;
      clip-path: url(#clip);
    }

    .area2 {
      fill: rgb(92, 170, 252);
      fill-opacity:0.30;
      clip-path: url(#clip);
    }

    .line {
      stroke: rgb(87, 177, 243);
      stroke-width: 0.9;
      stroke-opacity:1.0;
      fill: none;
      //filter: url(#drop-shadow);
      clip-path: url(#clip);
    }

    .line2 {
      stroke: rgb(77, 129, 210);
      stroke-width: 0.9;
      stroke-opacity:1.0;
      fill: none;
      clip-path: url(#clip);
    }

    .marker {
      stroke: rgb(139, 116, 31);
      stroke-width: 0.3;
      stroke-opacity:1.0;
      fill: rgb(139, 116, 31);
      fill-opacity:0.50;
      clip-path: url(#clip);
    }

    .cursor {
      stroke: rgb(255, 201, 0);
      stroke-width: 1.7;
      stroke-opacity:1.0;
      fill: none;
    }

    .axis path,
    .axis line {
      fill: none;
      stroke: #f7f6f9;
      shape-rendering: crispEdges;
    }

    .brush {
      stroke: #ff9f5a;
      stroke-width: 1.0;
      stroke-opacity: 1;
      stroke-dasharray: 3, 1;
      fill: #ffed0c;
      fill-opacity: .3;
      shape-rendering: crispEdges;
      pointer-events: all;
    }


    rect.pane {
      cursor: move;
      fill: none;
      pointer-events: all;
    }
  }

  .tr-tagbox-default-wrapper-template {
    border: 1px solid @dark-theme-field-border;
    box-shadow: 1px 2px 1px -1px rgba(0, 0, 0, 0.13);
    background-color: @dark-theme-field-background;

    .tr-remove-button {
      border: 1px solid @dark-theme-field-border;
    }
  }



  .tr-highlighted-text {
    background-color: rgba(244, 195, 125, 0.7);
    box-shadow: 1px 1px 3px 0 rgba(0, 0, 0, 0.75);
  }

  .tr-highlighted-entry {
    background-color: @dark-theme-background-color-light;
  }

  .tr-selected-entry {
    background-color: @dark-theme-background-color-light;
  }

  .tr-dropdown {
    background-color: @dark-theme-background-color;
    border: @dark-theme-field-border;
  }
}

